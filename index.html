<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>我的起始頁</title>
        <link rel="stylesheet" href="app.css" />
    </head>
    <body>
    <div class="background-layer" aria-hidden="true"></div>
    <div id="backgroundOverlay" class="background-overlay" aria-hidden="true"></div>
        <main class="app">
            <section class="hero">
                <div class="hero-header">
                    <h1 class="hero-title">Start Page</h1>
                    <p class="hero-subtitle">快速搜尋、管理收藏，一切從這裡開始。</p>
                </div>
                <div class="search-card">
                    <div class="engine-list" id="engineTabs" role="tablist" aria-label="搜尋引擎">
                        <button class="engine-pill active" data-engine="google" role="tab" aria-selected="true">
                            <span>🔍</span>
                            Google
                        </button>
                        <button class="engine-pill" data-engine="bing" role="tab" aria-selected="false">
                            <span>🔎</span>
                            Bing
                        </button>
                        <button class="engine-pill" data-engine="duckduckgo" role="tab" aria-selected="false">
                            <span>🦆</span>
                            DuckDuckGo
                        </button>
                        <button class="engine-pill" data-engine="baidu" role="tab" aria-selected="false">
                            <span>📍</span>
                            百度
                        </button>
                        <button class="engine-pill" data-engine="custom" role="tab" aria-selected="false">
                            <span>⚙️</span>
                            自訂
                        </button>
                    </div>
                    <div class="search-bar">
                        <div class="search-icon" id="searchEngineIcon">🔍</div>
                        <input id="searchInput" type="text" placeholder="搜尋任何內容..." autocomplete="off" />
                        <button id="searchBtn" class="search-btn" aria-label="搜尋">
                            搜尋
                        </button>
                    </div>
                </div>
            </section>

            <section class="toolbar" aria-label="快速操作">
                <div class="toolbar-actions">
                    <button id="addBookmarkBtn" class="toolbar-btn primary">+ 新增書籤</button>
                    <button id="manageCategoriesBtn" class="toolbar-btn">📁 管理分類</button>
                    <button id="settingsBtn" class="toolbar-btn">⚙️ 設定</button>
                </div>
            </section>

            <section class="bookmarks" aria-label="書籤列表">
                <div class="bookmark-card">
                    <header class="bookmark-card__header">
                        <h2>📑 我的書籤</h2>
                        <p>常用網站都在這裡，點擊即可開啟。</p>
                    </header>
                    <div id="bookmarkGrid" class="bookmark-grid" aria-live="polite"></div>
                </div>
                <div id="categorySection"></div>
            </section>
        </main>

        <!-- 設定彈窗 -->
        <div id="settingsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
            <div class="modal-panel">
                <header class="modal-header">
                    <h3 id="settingsTitle">⚙️ 設定</h3>
                    <button class="modal-close" data-close="settingsModal" aria-label="關閉設定">×</button>
                </header>
                <div class="modal-body">
                    <section class="settings-block">
                        <h4>🔍 搜尋引擎</h4>
                        <label for="customSearchUrl">自訂搜尋引擎 URL</label>
                        <input id="customSearchUrl" type="text" placeholder="https://example.com/search?q={query}" />
                        <span class="hint">使用 {query} 作為搜尋關鍵字的佔位符</span>
                    </section>
                    <section class="settings-block">
                        <h4>🎨 背景設定</h4>
                        <div class="settings-field">
                            <label>背景類型</label>
                            <div class="radio-list" id="bgTypeRadios">
                                <label><input type="radio" name="bgType" value="gradient" checked /> 漸層</label>
                                <label><input type="radio" name="bgType" value="image" /> 圖片</label>
                                <label><input type="radio" name="bgType" value="color" /> 純色</label>
                            </div>
                        </div>
                        <div class="settings-field" id="gradientSettings">
                            <label for="gradientPreset">選擇漸層</label>
                            <select id="gradientPreset">
                                <option value="default">天空藍</option>
                                <option value="sunset">日落橘紅</option>
                                <option value="ocean">海洋藍綠</option>
                                <option value="purple">夢幻紫</option>
                                <option value="green">森林綠</option>
                                <option value="dark">星夜黑</option>
                            </select>
                        </div>
                        <div class="settings-field hidden" id="imageSettings">
                            <label for="bgImageUrl">圖片網址</label>
                            <input id="bgImageUrl" type="text" placeholder="https://example.com/image.jpg" />
                            <span class="hint">提示：可使用 Unsplash，如 https://source.unsplash.com/1920x1080/?nature</span>
                        </div>
                        <div class="settings-field hidden" id="colorSettings">
                            <label for="bgColor">選擇顏色</label>
                            <input id="bgColor" type="color" value="#1a1a2e" />
                        </div>
                    </section>
                    <section class="settings-block">
                        <h4>🖼️ 顯示效果（外觀）</h4>
                        <div class="settings-field">
                            <label>背景模糊</label>
                            <div style="display:flex; gap:8px; align-items:center; margin-top:6px;">
                                <input id="blurToggle" type="checkbox" />
                                <label for="blurToggle" style="font-weight:600;">啟用背景模糊</label>
                            </div>
                            <input id="blurRange" type="range" min="0" max="40" value="16" style="width:100%; margin-top:8px;" />
                            <div class="hint">模糊深度: <span id="blurValue">16</span>px</div>
                        </div>
                        <div class="settings-field" style="margin-top:10px;">
                            <label>背景濾鏡</label>
                            <select id="overlaySelect" style="margin-top:6px;">
                                <option value="none">無</option>
                                <option value="white">白色濾鏡</option>
                                <option value="black">黑色濾鏡</option>
                            </select>
                            <input id="overlayOpacity" type="range" min="0" max="1" step="0.01" value="0.4" style="width:100%; margin-top:8px;" />
                            <div class="hint">濾鏡透明度: <span id="overlayValue">0.40</span></div>
                        </div>
                    </section>
                </div>
                <footer class="modal-footer">
                    <button id="saveSettings" class="btn primary">儲存設定</button>
                </footer>
            </div>
        </div>

        <!-- 書籤彈窗 -->
        <div id="bookmarkModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="bookmarkTitle">
            <div class="modal-panel">
                <header class="modal-header">
                    <h3 id="bookmarkTitle">新增書籤</h3>
                    <button class="modal-close" data-close="bookmarkModal" aria-label="關閉書籤表單">×</button>
                </header>
                <div class="modal-body">
                    <label for="bookmarkCategory">分類</label>
                    <div class="category-picker">
                        <select id="bookmarkCategory"></select>
                        <input id="newCategoryInput" type="text" placeholder="輸入新分類" class="hidden" />
                    </div>
                    <label for="bookmarkName">名稱</label>
                    <input id="bookmarkName" type="text" placeholder="網站名稱" />
                    <label for="bookmarkUrl">網址</label>
                    <input id="bookmarkUrl" type="text" placeholder="https://example.com" />
                    <label for="bookmarkIcon">圖示</label>
                    <div class="icon-row">
                        <input id="bookmarkIcon" type="text" placeholder="🌐 Emoji 或圖片網址" />
                        <button id="autoIconBtn" type="button" class="btn">自動抓取</button>
                    </div>
                    <span class="hint">可輸入 Emoji、圖片網址，或使用自動抓取</span>
                </div>
                <footer class="modal-footer">
                    <button id="saveBookmark" class="btn primary">儲存</button>
                    <button data-close="bookmarkModal" class="btn">取消</button>
                </footer>
            </div>
        </div>

        <!-- 分類彈窗 -->
        <div id="categoryModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="categoryTitle">
            <div class="modal-panel">
                <header class="modal-header">
                    <h3 id="categoryTitle">📁 管理分類</h3>
                    <button class="modal-close" data-close="categoryModal" aria-label="關閉分類管理">×</button>
                </header>
                <div class="modal-body">
                    <p class="hint" style="margin-bottom: 16px;">建立分類來整理書籤。刪除分類時，書籤會回到主列表。</p>
                    <div id="categoryList" class="category-list"></div>
                    <div class="icon-row" style="margin-top: 16px;">
                        <input id="newCategoryName" type="text" placeholder="輸入新分類名稱" />
                        <button id="addCategoryBtn" type="button" class="btn primary">+ 新增</button>
                    </div>
                </div>
                <footer class="modal-footer">
                    <button data-close="categoryModal" class="btn primary">完成</button>
                </footer>
            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>
